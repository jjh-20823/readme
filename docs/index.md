# Winston使用说明


## 简介

**Winston**是一款基于*[Nonebot2](https://v2.nonebot.dev/)*和*[go-cqhttp](https://docs.go-cqhttp.org/)*的QQ机器人，作者为[20823](http://saolei.wang/Player/Index.asp?Id=20823)，用于扫雷网玩家的日常使用。

### 特性

相比于其他同类机器人，Winston具有以下优势：

- 高效的程序——Winston完成一次更新所需时间不超过10s，查询可以秒出结果
- 频繁的更新——作者有充分的空闲时间长期维护项目
- 有价值的功能——使用群体主要由高水平活跃玩家组成，常常能提出更有意义的新功能
- 精美的制图——独创互啄图、奖牌图、雷达图等多种以图片呈现的结果，大量复杂表格也以图片形式返回

### 怎样加入？

目前，QQ群725373392为Winston的**唯一**服务平台。

>Winston主要面向**热爱扫雷**，**高水平**，**活跃**的电脑扫雷玩家。
>
>如果您不能保证作者认出您的QQ，请在申请时填入扫雷网id。  

二维码如下：

<img src="https://z3.ax1x.com/2021/05/12/g0PyLQ.jpg" width=60%>



## 功能与指令

在指令中，我们**不区分大小写**，并进行如下的约定：

- /表示“或”
- ()?表示括号中的参数可不填,()*n表示括号中的参数可重复n次
- 在特征中
  - ^表示该指令从消息的开始进行匹配：如果有^，该指令必须出现在消息的开头
  - $表示该指令必须匹配到消息的结尾：如果有$，该指令必须出现在消息的结尾
  - NF表示是否可以加入nf作为参数：如果有NF，可在指令中任意合理位置加入NF

- {mode} = ( 初级 / beg / b / 中级 / int / i / 高级 / exp / e )
- {mode-} = ( 中级 / int / i / 高级 / exp / e )
- {bv} = ( [bv的数值] )
- {id} = ( [玩家id] / [玩家姓名] / [玩家昵称] / [空] / me )，为[空]或me时表示发出消息的玩家的id

### 关键词回复

- 使用说明

  指令：(guide/使用说明/帮助)

  特征：^$

  返回：说明文档地址

- 国际网

  指令：国际网

  特征：^$

  返回：国际网地址

### 玩家信息

- id

  指令：id{id}

  示例：id18290

  特征：^$

  返回：该玩家的雷网地盘地址，如果该玩家有数据，额外返回该玩家的time纪录，软实力与NF软实力

- ie

  指令：ie{id}

  示例：ie18290

  特征：^$

  返回：该玩家的ie指标、ie标准，以及B/I/EPP5

- 雷达图

  指令：{id}(雷达图/radar)

  示例：18290雷达图

  特征：^NF$
  
  返回：该玩家的雷达图

### 线与分档

- 玩家线

  指令：{mode-}{id}{mode-}线

  示例：18290高级线，高级18290nf线

  特征：^NF$

  返回：该玩家该级别互不双杀的最强录像

  注：两个{mode-}至少需要填一个，下同

- 融合线

  指令：{id}([分割字符]{id})*n(合并/合成/融合/merge){mode-}线

  示例：18290+4843高级线，18290-8356NF合成高级线

  特征：^NF$

  返回：所有提及玩家该级别互不双杀的最强录像，以及各玩家所占比例

  注：除第一个id可为[空]外，其余id只能为[玩家id]，分割字符可为任意非数字字符

- 分档线

  指令：{mode-}[分档\](-[细分档])?线

  示例：高级1档线，中级nf1-2档线

  特征：NF

  返回：[分档]-[细分档]或[分档]-1档线

  注：在同一分档内考虑线杀关系得到细分档

- 分档玩家

  指令：{mode-}[分档\](人/玩家/选手)

  示例：高级1档玩家

  特征：^NF

  返回：[分档]的所有玩家的id

  注：仅支持查询6档以上的玩家

- 玩家分档

  指令：{id}{mode-}[分档\](分档/level)

  示例：18290高级分档

  特征：NF

  返回：该玩家该级别的分档

- 同档玩家

  指令：{id}{mode-}同档玩家

  示例：18290同档玩家

  特征：^NF$
  
  返回：与该玩家同档的所有玩家id

### 奖牌

- 奖牌

  指令：{mode}{bv}(奖牌/medal)

  示例：高级131奖牌

  特征：NF

  返回：该级别bv的前10名成绩

- 奖牌id

  指令：{mode}{bv}(奖牌/medal)id

  示例：高级131奖牌id

  特征：NF

  返回：该级别该bv的前20名玩家的id

- 奖牌数据

  指令：{id}(数据/信息/数/图)[dim]?(*)?

  示例：18290奖牌数据3*

  特征：^NF$

  返回：该玩家的奖牌图，[dim]表示前[dim]名为奖牌，默认为80，如果dim为3,5,10,20,40,80之一，则额外返回各级别的奖牌数量、价值、排名与前部数量

- 翻页

  指令：翻页

  特征：^$

  返回：最近所查奖牌接下来10名的成绩


### PB

- pb

  指令：{id}{mode}{bv}pb

  示例：18290高级131pb

  特征：NF

  返回：该玩家该bv的最好成绩及排名

- 互啄

  指令：{id}(啄/peck){id1}

  示例：18290啄8356，18290nf啄8356

  特征：^NF$

  返回：两个玩家互啄的结果图

  注：NF可分别对两人指定，{id1}不能为空，但可以为me
  
- 战力

  指令：{id}(战力/skill)

  示例：18290战力

  特征：^NF$

  返回：该玩家的战力及各分段战力

- 典型时

  指令：{id}(典型时/tt)

  示例：18290典型时

  特征：^NF$

  返回：该玩家的简版典型时与排名

### 前端成绩

- 梁山分

  指令：{id}(lsf/梁山分)

  示例：18290lsf

  特征：^$

  返回：该玩家的各级别梁山分与排名

- top

  指令：{id}(前端成绩/top/纪录/record/边缘成绩)

  示例：18290top

  特征：^NF$

  返回：该玩家的各级别前五成绩与平均值

- vs

  指令：{id}(vs){id1}

  示例：18290vs8356

  特征：^NF$

  返回：两个各级别.5对比

  注：NF可分别对两人指定，{id1}不能为空，但可以为me

### 智能功能

- IRC

  指令：[Arbiter自带的信息功能]

  1. /me {mode} game...
  2. /me last {num} {mode} game...
  3. /me watched {mode} game...

  特征：^

  返回：该录像的多种数据

  注：将me换成{id}可以模拟该玩家完成此局，如果没有Flags或R，可在最后添加NF确定模式

- 智能奖牌

  指令：(奖牌/medal)

  特征：^NF$

  返回：最近一次所查pb或奖牌对应bv的奖牌

  注：如果有NF则锁定NF，否则奖牌取相反风格，pb取相同风格

- 智能PB

  指令：{id}pb

  特征：^NF$

  返回：该玩家在最近一次所查pb或奖牌对应bv的最好成绩

  注：如果有NF则锁定NF，否则取相同风格



## 鸣谢

感谢13382在python上提供的帮助

感谢13688的小喵为本项目提供创意

感谢全体群内玩家提供想法，提出意见，参与测试，优化外观